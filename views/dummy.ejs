<!DOCTYPE html>
<html>
<head>
  <link href="./css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
  <!-- Custom Fonts -->
  <link href="./css/dummy.css" rel="stylesheet">
  <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
  <link href="http://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic" rel="stylesheet" type="text/css">
  <script src="http://maps.google.com/maps/api/js?sensor=false&v=3&libraries=geometry" type="text/javascript"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
  <script>

  var amigo = angular.module('amigo', []);
  </script>
  <script src="controllers/trips.js"></script>
  <script src="controllers/profile.js"></script>
  <script src="controllers/friends.js"></script>
  <script src="controllers/messages.js"></script>
  <script src="controllers/blogs.js"></script>
  <script src="controllers/feedback.js"></script>

  <title>
  </title>
</head>

<body ng-app="amigo">
<H1>Amigo Backend Testing Area</H1>
  <div ng-controller="MakeTrips">
<div class="col-md-12">
  <div class="col-md-6">
    <H3>ng-controller="MakeTrips"</H3>


    <form type="submit">
      <P><label>Destination:</label><input ng-model="destination"></P>
      <P><label>Start Time:</label><input ng-model="start" type="date"></P>
      <P><label>End Time:</label><input ng-model="end" type="date"></P>
      <P><label>Trip Activities</label><input ng-model="activities"></P>
      <P><label>Trip picture (URL)</label><input ng-model="tripPic"></P>
      <button ng-click="makeTrip()">Make Trip</button>
    </form>
  </div>
  <div class="col-md-6 response">Response<pre>{{ response }}</pre></div>
 </div>
</div>

  <hr>

<div ng-controller="AddProfile">
  <div class="col-md-12">
    <div class="col-md-6">
      <h3>ng-controller="AddProfile"</h3>

      <form type="submit">
        <p><label>Profile</label>
        <textarea ng-model="profile"></textarea>
        </p>


        <p><label>Profile Pic (URL)</label><input ng-model="profilepic"></p>
        <button ng-click="addProfile()">Add/update profile to signed in user</button>
      </form>
    </div>


    <div class="col-md-6 response">
      Response

      <pre>
{{resProfile}}
{{resProfilePic}}
</pre>
    </div>
  </div>
</div>

  <hr>
  <div ng-controller="GetProfile">
<div class="col-md-12">
  <div class="col-md-6">
    <H3>ng-controller="GetProfile"</H3>


    <form type="submit">
      <label>username</label> <input ng-model="username"><br>
      <button ng-click="getProfile()">Get Profile of Username</button>
    </form>
  </div>
    <div class="col-md-6 response">
    Response:
    <pre>
    id#: {{ user_id }}
    email: {{ user_email }}
    password(hashed): {{ user_hashpass }}
    fb_id: {{ user_fb_id }}
    fb_token: {{ user_fb_token }}
    profile: {{ user_profile }}
    </pre>
</div></div>
  <hr>
  <div ng-controller="GetTrips">
<div class="col-md-12">
  <div class="col-md-6">

    <H3>ng-controller="GetTrips" // from Username</H3>
    <form type="submit">
      <P><label>Username:</label> <input ng-model="username"><p>
      <button ng-click="getTripsByUsername()">Get Trips</button>
    </form>
    <br>
  </div>
   <div class="col-md-6 response">Response:
    <div ng-repeat="trip in trips">
      <ul>
        <li>{{trip.username}}</li>


        <li style="list-style: none; display: inline">
          <ul>
            <li>{{trip.dest_name}}</li>


            <li>{{trip.geocode_latitude}}</li>


            <li>{{trip.geocode_longitude}}</li>


            <li>{{trip.time_start}}</li>


            <li>{{trip.time_end}}</li>
          </ul>
        </li>
      </ul>
  
    </div>
    <br>
</div></div>
  </div>

  <hr>


  <div ng-controller="GetTripsByTime">
  <div class="col-md-12">
  <div class="col-md-6">
    <H3>ng-controller="GetTripsByTime"</H3>
    <form type="submit">
      <p><label>Start Time:</label><input ng-model="start" type="date"></p>
      <p><label>End Time:</label><input ng-model="end" type="date"></p>
      <button ng-click="getTripsByTime()">Get Trips by Time</button>
    </form>
    </div>
 <div class="col-md-6 response">Response:
    <div ng-repeat="trip in trips">
<pre>
Username: {{trip.username}}
Destination: {{trip.dest_name}}
Geocode Latitude: {{trip.geocode_latitude}}
Geocode Longitude: {{trip.geocode_longitude}}
Time Start: {{trip.time_start}}
Time End: {{trip.time_end}}
===========================
</pre>
    </div>
  </div>
</div>

  <hr>

          <div class="col-md-12">
  <div class="col-md-6">
        <div ng-controller="Befriend">
          <H4>ng-controller="Befriend"</H4>


          <form type="submit">
            <label>Friender (Username):</label><input ng-model="friender"><br>
            <label>Friendee (Username):</label><input ng-model="friendee"><br>
            <button ng-click="befriend()">Befriend</button> 
          </form>
          <pre>{{befriend_response}}</pre>
        </div>
        </div>
  <div class="col-md-6">
        <div ng-controller="GetFriends">
          <H4>ng-controller="GetFriends"</H4>
          <form type="submit">
            <p><label>Username:</label><input ng-model="username"></p>
            <button ng-click="getFriends('myFriends')">Get who I've friended</button> <button ng-click="getFriends('friendsMe')">Get who friended me</button>
          </form>
          <div style="clear:both"></div>
              <div class="response">
            <ul ng-repeat="friend in friends">
              <li>{{friend.username}}</li>
            </ul>
            </div>
        </div>
</div>
</div>

  <hr>


          <div class="col-md-12">
  <div class="col-md-6">
        <div ng-controller="SendMessage">
          <H4>ng-controller="SendMessage"</H4>


          <form type="submit">
            <p><label>Sender:</label><input ng-model="sender"></p>
            <p><label>Recipient:</label><input ng-model="reciever"></p>
            <p><label>Subject:</label><input ng-model="subject"></p>
            <p><label>Body:</label><textarea ng-model="content"></textarea></p>
            <button ng-click="sendMessage()">send</button> 
            <PRE>{{message_response}}</PRE>
          </form>
        </div>
        </div>
  <div class="col-md-6">
        <div ng-controller="GetMessages">
          <p>ng-controller="GetMessages"</p>


          <form>
            <label>Username:</label><input ng-model="username"><br>
            <button ng-click="getMessages('receiver')">Get messages I recieved</button> <button ng-click="getMessages('sender')">Get messages I sent</button> {{messages}}

            <div ng-repeat="message in messages">
              <br>
              To: {{message.receiver}}<br>
              from: {{message.sender}}<br>
              subj: {{message.subject}}<br>
              body: {{message.body}}
            </div>
          </form>
        </div>
</div>
</div>


  <hr>


  <table width="100%">
    <tr>
      <td>
        <div ng-controller="AddFeedback">
          <p>ng-controller="AddFeedback"</p>


          <form type="submit">
            <label>author:</label><input ng-model="author"><br>
            <label>subject(person):</label><input ng-model="subject"><br>

            <textarea ng-model="feedback">
</textarea><br>
            <button ng-click="addFeedback()">send</button> {{debug_response}}
          </form>
        </div>
      </td>

      <td>
        <div ng-controller="GetFeedback">
          <p>ng-controller="GetFeedback"</p>


          <form>
            <label>Username:</label><input ng-model="username"><br>
            <button ng-click="getFeedback('author')">Get feedback I wrote</button> <button ng-click="getFeedback('subject')">Get feedback about me</button> {{feedbacks}}

            <div ng-repeat="feedback in feedbacks">
              <br>
              author: {{feedback.author}}<br>
              subject: {{feedback.subject}}<br>
              feedback: {{feedback.feedback}}
            </div>
          </form>
        </div>
      </td>
    </tr>
  </table>

  <hr>


  <table width="100%">
    <tr>
      <td>
        <div ng-controller="WriteBlog">
          <p>ng-controller="WriteBlog"</p>


          <form type="submit">
            <label>Author:</label><input ng-model="author"><br>
            <label>Subject:</label><input ng-model="subject"><br>

            <textarea ng-model="body">
</textarea><br>
            <label>Blog Pic (URL)<input ng-model="blogpic"> <button ng-click="publishBlog()"><label><label>publish</label> {{debug_response}}</label></button></label>
          </form>
        </div>
      </td>

      <td>
        <div ng-controller="GetBlogs">
          <p>ng-controller="GetBlogs"</p>


          <form>
            <label>Username:</label><input ng-model="username"><br>
            <button ng-click="getBlogs()">Get blogs</button> {{blogs}}

            <div ng-repeat="blog in blogs">
              <br>
              Author: {{blog.author_name}}<br>
              Published At: {{blog.created_at}}<br>
              subj: {{blog.subject}}<br>
              body: {{blog.body}}<br>
              ...<br>
            </div>
          </form>
          {{debug_response}}
        </div>
      </td>
    </tr>
  </table>

  <hr>
</body>
</html>